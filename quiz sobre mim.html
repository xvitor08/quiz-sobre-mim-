<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Bem Vindo ao Quiz sobre mim!</title>
<style>
:root {
  --bg: #ffffff;
  --muted: #94a3b8;
  --text: #0f172a;
  --accent: #22c55e;
  --accent-2: #6366f1;
  --shadow: 0 10px 30px rgba(0,0,0,.35);
  --radius: 24px;
}
* { box-sizing: border-box; }
body {
  margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial;
  background: var(--bg);
  color: var(--text);
  min-height: 100dvh;
  display: grid; place-items: center; padding: 24px;
}
.app { width: 100%; max-width: 760px; background: var(--bg);
  border-radius: var(--radius); box-shadow: var(--shadow); overflow: hidden; border:1px solid rgba(0,0,0,.08);}
header { padding: 22px; }
h1 { margin: 0; font-weight: 800; letter-spacing: .3px; }
.sub { margin: 6px 0 0; color: var(--muted); font-size: 14px; }
.progress-wrap { width: 100%; background: rgba(148,163,184,.15); height: 10px; border-radius: 999px; overflow: hidden; }
.progress { height: 100%; width: 0%; background: linear-gradient(90deg, var(--accent), var(--accent-2)); transition: width .3s ease; }

.card { padding: 22px; display: grid; gap: 16px; }
.q { font-size: 20px; font-weight: 700; }
.options { display: grid; gap: 10px; }
.opt { display: flex; gap: 12px; align-items: center; padding: 14px 16px; border-radius: 20px; border: 1px solid rgba(0,0,0,.08); background: #f9f9f9; cursor: pointer; transition: transform .15s, box-shadow .3s, background .3s; }
.opt:hover { transform: translateY(-3px); box-shadow: 0 6px 15px rgba(0,0,0,.15); }
.opt input { appearance: none; width: 20px; height: 20px; border: 2px solid var(--muted); border-radius: 50%; display: grid; place-items: center; }
.opt input:checked { border-color: var(--accent-2); background: radial-gradient(circle at 50% 50%, var(--accent-2) 0 45%, transparent 45% 100%); }

.actions { display: flex; justify-content: space-between; gap: 10px; margin-top: 4px; }
.btn { padding: 12px 20px; font-weight: 700; letter-spacing: .3px; border-radius: 30px; border: none;
  background: var(--accent-2); color: #fff; cursor: pointer; transition: transform .15s, box-shadow .3s, opacity .3s; }
.btn:hover { transform: translateY(-3px); box-shadow: 0 8px 20px rgba(0,0,0,.2); }
.btn[disabled] { opacity: .5; cursor: not-allowed; }
.btn.primary { background: var(--accent); }
.btn.primary:hover { opacity: .9; }

.hidden { display: none !important; }

.result { display: grid; gap: 12px; padding: 22px; text-align: center; align-items: center; justify-items: center; }
.score { font-size: 48px; font-weight: 900; line-height: 1; letter-spacing: .5px; background: linear-gradient(90deg, var(--accent), var(--accent-2)); -webkit-background-clip: text; background-clip: text; color: transparent; }
.video-link { display: inline-flex; align-items: center; gap: 10px; text-decoration: none; padding: 14px 22px; border-radius: 30px; background: linear-gradient(90deg, var(--accent), var(--accent-2)); font-weight: 800; color: #fff; transition: transform .15s, box-shadow .3s; }
.video-link:hover { transform: translateY(-3px); box-shadow: 0 8px 20px rgba(0,0,0,.2); }

footer { padding: 0 22px 22px; color: var(--muted); font-size: 12px; text-align: center; }
.kbd { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace; padding: 2px 6px; border: 1px solid rgba(0,0,0,.18); border-bottom-width: 2px; border-radius: 6px; }

.confetti { position: absolute; width: 10px; height: 10px; opacity: 0.9; pointer-events: none; animation: fall 3s linear infinite; }
@keyframes fall { 0% { transform: translateY(-20px) rotate(0deg); } 100% { transform: translateY(400px) rotate(360deg); } }
</style>
</head>
<body>
<div class="app" id="app">
<header>
<h1>Bem Vindo ao Quiz sobre mim!</h1>
<p class="sub">Responda as perguntas. No final tem surpresa üíñ</p>
<div class="progress-wrap" aria-hidden="true">
  <div class="progress" id="progress"></div>
</div>
</header>

<section class="card" id="quiz"></section>

<section class="result hidden" id="result">
<p style="margin:0;color:var(--muted)">Voc√™ concluiu!</p>
<div class="score" id="score"></div>
<p id="message" style="margin-top:0"></p>
<a class="video-link" id="videoLink" href="#" target="_blank" rel="noopener">üéÅ Surpresa: Clique aqui</a>
</section>

<div id="surpriseModal" class="hidden" aria-modal="true" role="dialog" style="position:fixed; inset:0; display:grid; place-items:center; background:rgba(0,0,0,.55); backdrop-filter: blur(2px); overflow:hidden;">
<div style="position:relative;width:min(560px,92vw); background:#fff; border-radius:24px; padding:22px; box-shadow:0 20px 60px rgba(0,0,0,.45); text-align:center;">
<h2 style="margin:0 0 8px 0;">Parab√©ns, voc√™ acertou todas! üéâ</h2>
<p style="margin:0 0 16px 0; color:var(--text)">Fique com a surpresa üòò</p>
<a class="video-link" id="videoLinkInstant" href="#" target="_blank" rel="noopener">‚ñ∂Ô∏è Abrir Surpresa</a>
<div style="margin-top:14px; display:flex; gap:8px; justify-content:center;">
<button class="btn" id="continueBtn">Continuar o quiz</button>
</div>
</div>
</div>

<footer>
Dica: personalize a URL da surpresa em <span class="kbd">VIDEO_URL</span>.
</footer>
</div>

<script>
const VIDEO_URL = "https://drive.google.com/file/d/1_WSQpIJ1_2kmH0QRpbZVvzQlxHOycNfk/view?usp=drivesdk";
const QUESTIONS = [
  { text: "Qual √© a minha cor favorita?", options: ["Vermelho","Amarelo","Verde","Rosa","Preto"], correctIndex: 4 },
  { text: "Qual √© o meu esporte favorito?", options: ["T√™nis","Futebol","V√¥lei","Andar de bike"], correctIndex: 2 },
  { text: "Qual animal de estima√ß√£o eu mais gosto?", options: ["Cachorro","Gato","Passarinho","Porquinho da √çndia"], correctIndex: 0 },
  { text: "Que tipo de programa eu mais gosto de assistir?", options: ["Animes","Novelas","Filmes","Doramas"], correctIndex: 0 },
  { text: "Sou uma √≥tima filha?", options: ["SIM"], correctIndex: 0, triggersSuccess:true },
  { text: "Sou muito amada pelos meus pais!", options: ["SIM"], correctIndex: 0, triggersSuccess:true },
  { text: "Sou querida e especial para minha fam√≠lia?", options: ["SIM"], correctIndex:0, triggersSuccess:true }
];

const elQuiz = document.getElementById('quiz');
const elResult = document.getElementById('result');
const elScore = document.getElementById('score');
const elMsg = document.getElementById('message');
const elVideo = document.getElementById('videoLink');
const elVideoInstant = document.getElementById('videoLinkInstant');
const elProgress = document.getElementById('progress');
const elModal = document.getElementById('surpriseModal');

let current=0, score=0;
const answers = new Array(QUESTIONS.length).fill(null);
let confettiInterval;

function renderQuestion(){
  const q = QUESTIONS[current];
  const total = QUESTIONS.length;
  const answered = answers[current];
  elProgress.style.width = ((current)/total*100)+'%';

  elQuiz.innerHTML = `<div class="q">${current+1}. ${q.text}</div>
  <div class="options">
    ${q.options.map((opt,i)=>`<label class="opt"><input type="radio" name="opt" ${answered===i?'checked':''} data-index="${i}" /><span>${opt}</span></label>`).join('')}
  </div>
  <div class="actions">
    <button class="btn" id="prevBtn" ${current===0?'disabled':''}>Voltar</button>
    <div style="display:flex; gap:10px; align-items:center;"><button class="btn" id="clearBtn">Limpar</button><button class="btn primary" id="nextBtn">${current===total-1?'Finalizar':'Pr√≥xima'}</button></div>
  </div>`;

  elQuiz.querySelectorAll('input[name="opt"]').forEach(input=>{
    input.addEventListener('change', e=>{
      const chosen = Number(e.target.dataset.index);
      answers[current] = chosen;
    });
  });

  elQuiz.querySelector('#prevBtn').addEventListener('click',()=>{current=Math.max(0,current-1); renderQuestion();});
  elQuiz.querySelector('#clearBtn').addEventListener('click',()=>{answers[current]=null; renderQuestion();});
  elQuiz.querySelector('#nextBtn').addEventListener('click',()=>{
    if(current===total-1){finish();}
    else{current=Math.min(total-1,current+1); renderQuestion();}
  });
}

function finish(){
  const totalCorrectables = QUESTIONS.filter(q=>q.correctIndex!==null).length||QUESTIONS.length;
  let correctAllFinal = true;
  QUESTIONS.forEach((q,i)=>{
    if(q.triggersSuccess && answers[i]!==q.correctIndex){ correctAllFinal=false; }
  });
  elScore.textContent=`${answers.filter((a,i)=>QUESTIONS[i].correctIndex===a).length}/${totalCorrectables}`;
  elMsg.textContent = correctAllFinal ? "Parab√©ns, voc√™ acertou todas as perguntas finais! üíï" : "Voc√™ concluiu o quiz, mas ainda n√£o acertou todas as perguntas finais.";
  elProgress.style.width='100%';
  elQuiz.classList.add('hidden'); elResult.classList.remove('hidden');
  elVideo.href = correctAllFinal ? VIDEO_URL : "#";
  if(correctAllFinal){ openModal(); }
}

function openModal(){
  elVideoInstant.href = VIDEO_URL;
  elModal.classList.remove('hidden');
  launchConfetti();
}

function launchConfetti(){
  if(confettiInterval) clearInterval(confettiInterval);
  confettiInterval = setInterval(()=>{
    const colors = ['#f43f5e','#22c55e','#6366f1','#facc15','#f97316','#10b981'];
    const confetti = document.createElement('div');
    confetti.className='confetti';
    confetti.style.left = Math.random()*100+'%';
    confetti.style.backgroundColor = colors[Math.floor(Math.random()*colors.length)];
    confetti.style.width = 6 + Math.random()*6+'px';
    confetti.style.height = confetti.style.width;
    elModal.appendChild(confetti);
    setTimeout(()=>{confetti.remove();},4000);
  }, 100);
}

renderQuestion();

document.addEventListener('click',e=>{
  if(e.target&&e.target.id==='continueBtn'){ 
    elModal.classList.add('hidden'); 
    if(confettiInterval) clearInterval(confettiInterval);
  }
  if(e.target===elModal){ 
    elModal.classList.add('hidden'); 
    if(confettiInterval) clearInterval(confettiInterval);
  }
});
</script>
</body>
</html>
